<script src="https://widget.reviews.io/product/dist.js"></script>
<script src="https://widget.reviews.io/rating-snippet/dist.js"></script>
<link rel="stylesheet" href="https://widget.reviews.io/rating-snippet/dist.css" />
<script>
  window.addEventListener("load", ratingSnippet("ruk_rating_snippet", {
    store: "rosental.de",
    color: "#000000",
    linebreak: false,
    text: "Bewertungen",
    mode: 'minimal',
    callback:function() {
      var snippet = document.querySelectorAll(".ruk_rating_snippet");
        for(var i=0;i<snippet.length;i++) {
          snippet[i].onclick = function(event) {

          }
        }
        {% if template.name == 'product' %}
          var snippet = document.querySelectorAll(".ruk_rating_snippet");
          for(var i=0;i<snippet.length;i++) {
            snippet[i].onclick = function(event) {
              // var productWidget = document.getElementById('ReviewsWidget').scrollIntoView({behavior: "smooth"});
              const element = document.getElementById('shopify-product-reviews');
              if(element) {
                const yOffset = -50;
                const y = element.getBoundingClientRect().top + window.pageYOffset + yOffset;
                window.scrollTo({top: y, behavior: 'smooth'});
              }
              
            }
          }
        {% endif %}    
    }
  }));

  // used for infinite scrolling
  function loadReviewsIoRatings() {
    if (ratingSnippet) {
      ratingSnippet('ruk_rating_snippet', {
        store: 'rosental.de',
        color: '#000000',
        linebreak: false,
        text: 'Bewertungen',
        mode: 'minimal',
      });
    }
  }
</script>
